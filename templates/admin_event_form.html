{% extends "base.html" %}
{% block content %}
<div class="admin-section">
    <div class="section-header">
        <h1>{% if event %}Edit Event{% else %}Add New Event{% endif %}</h1>
        <div class="header-buttons">
            <a href="{{ url_for('admin.manage_events') }}" class="btn btn-secondary">‚Üê Back to Events</a>
        </div>
    </div>

    <div class="form-container">
        <div class="event-form-section">
            <form method="post" class="event-form">
                <div class="form-group">
                    <label for="title">Event Title:</label>
                    <input type="text" id="title" name="title" value="{% if event %}{{ event[1] }}{% endif %}"
                        placeholder="Enter event title" required>
                </div>
                <div class="form-group">
                    <label for="date">Date:</label>
                    <input type="date" id="date" name="date" value="{% if event %}{{ event[2] }}{% endif %}" required>
                </div>
                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" placeholder="Enter event description"
                        rows="6">{% if event %}{{ event[3] or '' }}{% endif %}</textarea>
                </div>
                <div class="form-group">
                    <label for="location">Location:</label>
                    <input type="text" id="location" name="location"
                        value="{% if event %}{{ event[4] or '' }}{% endif %}" placeholder="Enter event location">
                </div>
                <div class="form-group">
                    <label for="time">Time:</label>
                    <input type="text" id="time" name="time" value="{% if event %}{{ event[5] or '' }}{% endif %}"
                        placeholder="Enter event time (e.g., 2:00 PM - 4:00 PM)">
                </div>
                <div class="form-group">
                    <label for="invitation_link">Invitation Link:</label>
                    <input type="url" id="invitation_link" name="invitation_link"
                        value="{% if event %}{{ event[6] or '' }}{% endif %}"
                        placeholder="Enter invitation link (optional)">
                </div>
                <div class="form-actions">
                    <button type="submit" name="{% if event %}update_event{% else %}add_event{% endif %}"
                        class="btn btn-primary">
                        {% if event %}Update Event{% else %}Add Event{% endif %}
                    </button>
                    {% if event %}
                    <button type="submit" name="delete_event" value="{{ event[0] }}" class="btn btn-danger"
                        onclick="return confirm('Are you sure you want to delete this event? This action cannot be undone.')">
                        Delete Event
                    </button>
                    {% endif %}
                    <a href="{{ url_for('admin.manage_events') }}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .admin-section {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 2px solid #dee2e6;
    }

    .header-buttons {
        display: flex;
        gap: 15px;
    }

    .form-container {
        margin-top: 20px;
    }

    .event-form-section {
        background: white;
        padding: 30px;
        border-radius: 12px;
        border: 1px solid #dee2e6;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .event-form .form-group {
        margin-bottom: 20px;
    }

    .event-form label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #495057;
        font-size: 16px;
    }

    .event-form input,
    .event-form textarea {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #dee2e6;
        border-radius: 6px;
        font-size: 16px;
        transition: border-color 0.2s ease;
        box-sizing: border-box;
    }

    .event-form input:focus,
    .event-form textarea:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    }

    .event-form textarea {
        resize: vertical;
        font-family: inherit;
    }

    .form-actions {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #dee2e6;
    }

    .btn {
        display: inline-block;
        padding: 12px 24px;
        text-decoration: none;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 16px;
    }

    .btn-primary {
        background-color: #007bff;
        color: white;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        transform: translateY(-1px);
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }

    .btn-secondary:hover {
        background-color: #545b62;
        transform: translateY(-1px);
    }

    .btn-danger {
        background-color: #dc3545;
        color: white;
    }

    .btn-danger:hover {
        background-color: #c82333;
        transform: translateY(-1px);
    }

    @media (max-width: 768px) {
        .admin-section {
            margin: 10px;
            padding: 15px;
        }

        .section-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
        }

        .event-form-section {
            padding: 20px;
        }

        .form-actions {
            flex-direction: column;
        }

        .btn {
            width: 100%;
            text-align: center;
        }
    }
</style>
{% endblock %}