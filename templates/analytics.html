{% extends "base.html" %}

{% block content %}
<div class="admin-container">
    <h1>üìä Website Analytics</h1>

    <div class="analytics-cards">
        <div class="analytics-card">
            <h3>üìà Quick Stats</h3>
            <p>View your website analytics in Google Analytics:</p>
            {% if config.get('GOOGLE_ANALYTICS_ID') %}
            <p><strong>Analytics ID:</strong> {{ config.GOOGLE_ANALYTICS_ID }}</p>
            <a href="https://analytics.google.com" target="_blank" class="btn btn-primary">
                Open Google Analytics ‚Üí
            </a>
            {% else %}
            <p class="warning">‚ö†Ô∏è Google Analytics not configured</p>
            <p>Add your GOOGLE_ANALYTICS_ID to app.yaml to enable tracking.</p>
            {% endif %}
        </div>

        <div class="analytics-card">
            <h3>üìã What We Track</h3>
            <ul>
                <li>‚úÖ Page views and unique visitors</li>
                <li>‚úÖ Mailing list signups</li>
                <li>‚úÖ Event calendar interactions</li>
                <li>‚úÖ Class page engagement</li>
                <li>‚úÖ File downloads</li>
                <li>‚úÖ External link clicks</li>
                <li>‚úÖ Mobile vs desktop usage</li>
            </ul>
        </div>

        <div class="analytics-card">
            <h3>üéØ Key Reports to Check</h3>
            <ul>
                <li><strong>Real-time:</strong> Current visitors</li>
                <li><strong>Audience:</strong> Visitor demographics</li>
                <li><strong>Acquisition:</strong> How people find you</li>
                <li><strong>Behavior:</strong> Most popular pages</li>
                <li><strong>Events:</strong> Mailing list signups, clicks</li>
            </ul>
        </div>

        <div class="analytics-card">
            <h3>üîí Privacy & Compliance</h3>
            <ul>
                <li>‚úÖ IP addresses anonymized</li>
                <li>‚úÖ No personal data collected</li>
                <li>‚úÖ GDPR-friendly settings</li>
                <li>‚úÖ Only loads in production</li>
            </ul>
        </div>
    </div>

    <div class="analytics-help">
        <h3>üìö Resources</h3>
        <ul>
            <li><a href="https://analytics.google.com" target="_blank">Google Analytics Dashboard</a></li>
            <li><a href="https://search.google.com/search-console" target="_blank">Google Search Console</a></li>
            <li><a href="/static/ANALYTICS_SETUP.md" target="_blank">Setup Guide</a></li>
        </ul>
    </div>

    <a href="/admin" class="btn btn-secondary">‚Üê Back to Admin</a>
</div>

<style>
    .analytics-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }

    .analytics-card {
        background: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
    }

    .analytics-card h3 {
        margin-top: 0;
        color: #333;
    }

    .analytics-card ul {
        margin: 10px 0;
        padding-left: 20px;
    }

    .analytics-card li {
        margin: 5px 0;
    }

    .warning {
        color: #e74c3c;
        font-weight: bold;
    }

    .btn {
        display: inline-block;
        padding: 10px 20px;
        margin: 10px 5px 10px 0;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
    }

    .btn-primary {
        background-color: #007bff;
        color: white;
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }

    .btn:hover {
        opacity: 0.9;
    }

    .analytics-help {
        margin-top: 30px;
        padding: 20px;
        background: #e8f5e8;
        border-radius: 8px;
    }

    .analytics-help ul {
        margin: 10px 0;
    }

    .analytics-help a {
        color: #007bff;
        text-decoration: none;
    }

    .analytics-help a:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}